##데이터 정제.
*결측치
	-누락된 값, 비어있는 값 의미
	-결측치 있으면 함수가 적용되지 않거나 분석결과가 왜곡되는 문제 발생
	-대문자 NA로 표기 <NA> -> NA앞뒤에 따옴표가 없다!! "NA"면 영문자의미.

* is.na() : 결측치 TRUE, 결측치아닌값 FALSE
	- is. 으로 시작하는 함수들은 해당 변수가 특정 속성을 지니고 있는지 확인한 후 TRUE 또는 FALSE값을 변환하는 기능을 함. 
	- is.na는 값이 NA인지(is it NA?) 알려줌
* table(is.na(df)) : 테이블에 결측치 몇개 인지 확인
* table(is.na(df$score)) : score변수에 결측치 몇개인지 확인
* 결측치가 포함된 데이터를 함수에 적용하면 정상적으로 연산되지 않고 NA가 출력됨

#결측치 제거
*is.na()를 filter()에 적용하면 결측치가 잇는 행 제거가능
*df %>% filter( !is.na(score)) -> score결측치 제거. !해줘야 결측치인거 제외하고 출력
* na.omit(): 변수 지정하지 않고 결측치가 있는 행을 한번에 제거가능
	- 결측치가 하나라도 있으면 모두 제거하여 간편함
	- 분석에 필요한 행까지 손실된다는 단점잇음
	- filter()를 이용해 분석에 사용할 변수의 결측치만 제거하는 방식 권함
*na.rm: 결측치를 제외하고 연산하도록 설정하는 파라미터
-NA Remove 결측치를 제거하라는 의미
- na.rm을 TRUE로 설정하면 결측치를 제외하고 함수 적용, 결측치 제거 절차 건너뛰고 바로 분석가능
- 모든 함수가 지원하는 것은 아님. -> na.rm을 지원하지 않으면 filter()로 결측치 제거한 후 함수 적용

#결측치 대체하기
* 데이터가 작고 결측치가 많은 경우 결측치를 제거하면 너무 많은 데이터가 손실돼 분석결과가 왜곡됨
* 결측치 대체법: 결측치를 제거하는 대신 다른 값을 채워 넣는 방법. -> 데이터 왜곡문제 보완가능
1. 평균이나 최빈값 같은 대표값을 구해 모든 결측치를 하나의 값으로 일괄 대체하는 방법
2. 통계 분석 기법으로 각 결측치의 예측값을 추청해 대체하는 방법
	- 평균값으로 결측치 대체
	-exam$math <- ifelse(is.na(exam$math), 55, exam$math)  -> math가 NA면 55로 대체

#이상치 정제하기 
*이상치: 정상 범주에서 크게 벗어난 값, 분석결과 왜곡되기 때문에 이상치 제거해줌

* 이상치 제거하기
1. 이상치 확인 table()이용
2. 결측 처리하기
	- ifelse()를 이용해 이상치일 경우 NA부여
3. 극단치: 극단적으로 크거나 작은 값, -> 분석결과 왜곡될 수 있음
	- 극단치 제거: 논리적으로 판단해 정함, 통계적인 기준 이용, 상자그림 이용해 중심에서 크게 벗어난 값을 극단치로 간주
	- 제1사분위, 3사분위 값 넘어가면 결측치로 바꿔준후 결측치 제거

----------------------------------------------------------------------------------------------------
##그래프 만들기
*그래프
- 데이터를 보기 쉽게 그림으로 표현한 것
- 추세와 경향성이 드러나기 때문에 특징을 쉽게 이해할 수 있음

* R선호하는 이유 중 하나는 우수한 그래프 기능
# ggplot2
- 그래프를 만들때 가장 많이 사용하는 패키지
- 쉽고 짧은 문법으로 아름다운 그래프 만들수 잇음
- 문법은 레이어(layer)구조로 되어있음.
- 배경 -> 그 위에 그래프형태 -> 축 범위, 색, 표식 등 설정

#산점도 (geom_point( ) )
- 데이터를 x축과 y축에 점으로 표현한 그래프
- 나이, 소득처럼 연속 값으로 된 두 변수의 관계를 표현할때 사용(연속성)

#산점도 만들기
1. 배경 설정
- data= 그래프를 그리는데 사용할 데이터 지정,
- aes = x축과 y축에 사용할 변수를 지정
- ggplot(data=mpg, aes(x=displ, y= hwy))

2. 그래프 추가하기
- '+'기호를 이용해 그래프 유형을 지정하는 함수를 추가함.
- geom_point() : 산점도를 그리는 함수
- + 기호를 이용해 그래프 설정을 변경하는 코드 추가 가능
- 축범위 설정 : 데이터 전체가 아니라 일부만 표현하고 싶을때 설정
	-xlim(), ylim()을 이용해 지정가능
- ggplot(data=mpg, aes(x=displ, y=hwy)) + geom_point()+xlim(3,6)+ylim(10,30)
	-> 데이터, 축 + 그래프종류 + 세부설정
* dplyr패키지 함수들은 %>%기호로 연결, ggplot2 패키지 함수들은 +기호로 연결
* 그래프를 이미지 파일로 저장하기
	- Plots창 메뉴의 [Export] 버튼을 클릭하면 저장 가능

** ggplot() vs qplot()
	- qplot() : 기능은 적지만 문법이 간단 -> 주로 전처리 단계에서 데이터를 빠르게 확인해보는 용도로 활용
	- ggplot() : 최종적으로 분석결과를 보고하기 위해 그래프 만들때 사용. <br>
		다양한 그래프 만들 수 있고, 색, 크기, 폰트 등 세부요소들을 자유롭게 조절가능

#막대 그래프 (geom_col( ) )
* 막대그래프 
	- 데이터의 크기를 막대의 길이로 표현한 그래프
	- 성별 소득차이처럼 집단 간 차이를 표현할 때 주로 사용
	- 가장 많이 사용, 각 집단의 평균값을 막대 길이로 표현한 평균 막대 그래프
# 평균 막대 그래프 만들기
1. 집단별 평균표 만들기
	- df_mpg <- mpg %>%   group_by(drv) %>%  summarise(mean_hwy = mean(hwy))
 2. 그래프 생성하기
	- ggplot(data = df_mpg, aes(x = drv, y = mean_hwy)) + geom_col()
3. 크기 순으로 정렬하기
	- 기본적으로 범주의 알파벳 순서로 정렬됨
	- reorder() : 막대를 값의 크기 순으로 정렬, x축 변수와 정렬 기준으로 삼을 변수지정<br>
			정렬 기준 변수 앞에 ' - '기호를 붙이면 내림차순 정렬

* 빈도 막대 그래프 (geom_bar() )
	- 값의 개수로 막대의 길이를 표현한 그래프
	- y 축 없이 x축만 지정, geom_bar() 사용

** 요약표는 geom_col / 원자료는 geom_bar()

# 선 그래프 (geom_line() )
 - 데이터를 선으로 표현한 그래프
- 시간에 따라 달라지는 데이터를 표현할때 주로 이용
 - 시계열 데이터 : 일정 시간간격을 두고 나열된 데이터
- 시계열 그래프 : 시계열 데이터를 선으로 표현한 그래프

# 상자그림 ( geom_boxplot() )
- 데이터의 분포(퍼져 있는 형태)를 직사각형 상자 모양으로 표현한 그래프
